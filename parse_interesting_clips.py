from openai import OpenAI
import json
import os
client = OpenAI()

def ask_gpt(final_prompt, output_path):
    initial_prompt = """
    You are a helpful assistant designed to output JSON. All of your responses should be valid JSON. 
    Your goal is to create a JSON object that contains a list of interesting timestamps. 
    These timestamps come in the following form: 
    [{'timestamp': [0.0, 11.56], 'text': ' Now then, we have to get on to Buddhism. And in order to introduce Buddhism, it's necessary to'}]. 
    The timestamps are a list of numbers, denoting the seconds from the beginning of the related video and the text is a string of words that appear within the denoted seconds. 
    The output of should be a JSON list object that contains lists of these timestamps containing at least one interesting idea beginning at the start of a sentence, and ending at the end of one. 
    The output should be a list of lists of timestamps.
    The timestamps should be at least 60 seconds in length.
    The timestamps should be no longer than 120 seconds in length.
    The difference between the first and last timestamp in each list should be no longer than 120 seconds.
    If the beginning time stamp of the list is say, 100, then the end timestamp should be no greater than 220.
    [617.76, 1226.72] is an example of an invalid timestamp
    [617.76,1245.22] is an example of an invalid timestamp
    [617.76, 1164.32] is an example of an invalid timestamp
    [617.76, 682.44] is a valid timestamp
    """

    prompt_question1 = """[{"timestamp": [0.0, 11.56], "text": " Now then, we have to get on to Buddhism. And in order to introduce Buddhism, it's necessary to"}, {"timestamp": [11.56, 21.18], "text": " remember the whole background of the world view of India. In other words, what we're going to study"}, {"timestamp": [21.18, 25.0], "text": " first of all to understand Buddhism is Indian cosmology,"}, {"timestamp": [25.0, 32.0], "text": " just as you would have to study the cosmology of the Ptolemaic view of the world in order to understand Dante,"}, {"timestamp": [32.0, 36.0], "text": " and in order to understand lots of things about medieval Christianity."}, {"timestamp": [37.0, 47.14], "text": " So the cosmology of the Hindus, their view of the universe, has come right into Japanese life through Buddhism, but it"}, {"timestamp": [47.14, 48.2], "text": " antedates Buddhism."}, {"timestamp": [49.14, 53.4], "text": " Buddhism simply adopted it as a matter of course, just as now if you invented a new"}, {"timestamp": [53.4, 56.78], "text": " religion, you would probably adopt the cosmology of modern astronomy."}, {"timestamp": [58.8, 61.52], "text": " Well now, how does the Hindu see the world?"}, {"timestamp": [62.32, 71.58], "text": " You know, there are really three great views of the world that human beings have had and they go one is is the Western view of"}, {"timestamp": [71.58, 79.0], "text": " the world which looks upon the world as a construct, an artifact by analogy with"}, {"timestamp": [79.0, 88.38], "text": " ceramics and carpentry. Then there is the Hindu view of the world which is dramatic, looks on it"}, {"timestamp": [88.38, 94.92], "text": " as a play. And then the Chinese view which is organic and looks upon the world as an"}, {"timestamp": [94.92, 105.94], "text": " organism, a body. But the Hindu view sees it as a drama. And it's simply this. There is what there is,"}, {"timestamp": [106.42, 108.12], "text": " and always was and always will be,"}, {"timestamp": [108.18, 109.18], "text": " which is called the self."}, {"timestamp": [110.7, 113.4], "text": " That in Sanskrit is Atman, A-T-M-A-N."}, {"timestamp": [114.7, 116.7], "text": " And the Atman is also called Brahman."}, {"timestamp": [117.36, 119.16], "text": " Brahman, from the root Bri,"}, {"timestamp": [119.16, 122.62], "text": " to grow, to expand, to swell,"}, {"timestamp": [137.88, 145.9], "text": " is actually related to our word breath. So Brahman, the self, according to the Hindu view, plays hide-and-seek with itself for always and always and always."}, {"timestamp": [147.28, 149.68], "text": " How far out, how lost can you get?"}, {"timestamp": [151.58, 154.76], "text": " So here each one of us, according to the Hindu idea,"}, {"timestamp": [155.24, 161.1], "text": " is the Godhead on purpose getting lost for the fun of it."}, {"timestamp": [162.8, 164.98], "text": " And how terrible it can get at times."}, {"timestamp": [164.98, 165.0], "text": " But won't it be nice when you wake up? for the fun of it. And how terrible it can get at times."}, {"timestamp": [165.36, 166.86], "text": " But won't it be nice when you wake up?"}, {"timestamp": [168.88, 170.46], "text": " That's sort of the basic idea."}, {"timestamp": [170.84, 173.4], "text": " And I found it's an idea that any child can understand."}, {"timestamp": [173.54, 175.44], "text": " It has great simplicity and great elegance."}, {"timestamp": [178.4, 180.44], "text": " Now, in part of this cosmology,"}, {"timestamp": [180.58, 184.5], "text": " we must understand another feature of this conception of the universe."}, {"timestamp": [185.88, 189.32], "text": " Not only, you remember now, the kalpas, the periods of time,"}, {"timestamp": [189.62, 193.4], "text": " the yugas, the qualities of the time through which the universe goes,"}, {"timestamp": [193.48, 196.72], "text": " but there's the final thing, which are called the six worlds,"}, {"timestamp": [197.66, 199.28], "text": " or the six paths of life."}, {"timestamp": [201.36, 205.24], "text": " And this is very important for Buddhism Buddhism although it comes from Hinduism"}, {"timestamp": [205.24, 208.34], "text": " is represented in what is called the bhava chakra"}, {"timestamp": [208.34, 212.08], "text": " bhava means becoming b-h-a-v-a"}, {"timestamp": [212.08, 215.56], "text": " chakra c-h-a-k-r-a means wheel"}, {"timestamp": [215.56, 219.44], "text": " the wheel of becoming the wheel of birth and death"}, {"timestamp": [219.44, 224.8], "text": " and it has six divisions it has the top people"}, {"timestamp": [224.8, 226.4], "text": " and the bottom people the top people and the bottom people."}, {"timestamp": [226.96, 230.7], "text": " The top people are called Deva, D-E-V-A."}, {"timestamp": [231.54, 236.4], "text": " The bottom people are called Naraka, N-A-R-A-K-A."}, {"timestamp": [237.08, 238.1], "text": " Devas are angels,"}, {"timestamp": [238.72, 242.38], "text": " and they are the people who are the supreme spiritual successors."}, {"timestamp": [243.36, 247.0], "text": " The Naraka are tormented in purgatory, and they are the supreme spiritual successes. The Naraka are tormented in purgatory and they are the"}, {"timestamp": [248.12, 255.12], "text": " supreme spiritual failures. They are the poles, the happiest people and the saddest people."}, {"timestamp": [258.5, 265.82], "text": " Then in between there comes the world of the Pretas next to the naraka, next to the purgatory."}, {"timestamp": [266.58, 271.82], "text": " The pretas are the frustrated spirits who have tiny mouths and enormous bellies."}, {"timestamp": [272.58, 276.64], "text": " Huge appetites, but very, very limited means of satisfying it."}, {"timestamp": [278.58, 282.62], "text": " Then next, they come between the narakas and the devas at the top."}, {"timestamp": [283.28, 285.76], "text": " Next up from the pretas are the human beings."}, {"timestamp": [287.6, 293.68], "text": " And they are supposed to hold a middle position in the six worlds. Then you go up from the human"}, {"timestamp": [293.68, 298.4], "text": " beings to the Devas and then you start coming down again. The next world is called the Asura."}, {"timestamp": [299.52, 307.08], "text": " And those are the wrathful spirits, the personifications of storm and all the anger and violence of"}]"""
    prompt_answer1= """{"timestamps":[{start: 0.0, end: 109.18}]}"""
    prompt_question2= """[{"timestamp": [110.7, 113.4], "text": " That in Sanskrit is Atman, A-T-M-A-N."}, {"timestamp": [114.7, 116.7], "text": " And the Atman is also called Brahman."}, {"timestamp": [117.36, 119.16], "text": " Brahman, from the root Bri,"}, {"timestamp": [119.16, 122.62], "text": " to grow, to expand, to swell,"}, {"timestamp": [137.88, 145.9], "text": " is actually related to our word breath. So Brahman, the self, according to the Hindu view, plays hide-and-seek with itself for always and always and always."}, {"timestamp": [147.28, 149.68], "text": " How far out, how lost can you get?"}, {"timestamp": [151.58, 154.76], "text": " So here each one of us, according to the Hindu idea,"}, {"timestamp": [155.24, 161.1], "text": " is the Godhead on purpose getting lost for the fun of it."}, {"timestamp": [162.8, 164.98], "text": " And how terrible it can get at times."}, {"timestamp": [164.98, 165.0], "text": " But won't it be nice when you wake up? for the fun of it. And how terrible it can get at times."}, {"timestamp": [165.36, 166.86], "text": " But won't it be nice when you wake up?"}, {"timestamp": [168.88, 170.46], "text": " That's sort of the basic idea."}, {"timestamp": [170.84, 173.4], "text": " And I found it's an idea that any child can understand."}, {"timestamp": [173.54, 175.44], "text": " It has great simplicity and great elegance."}, {"timestamp": [178.4, 180.44], "text": " Now, in part of this cosmology,"}, {"timestamp": [180.58, 184.5], "text": " we must understand another feature of this conception of the universe."}, {"timestamp": [185.88, 189.32], "text": " Not only, you remember now, the kalpas, the periods of time,"}, {"timestamp": [189.62, 193.4], "text": " the yugas, the qualities of the time through which the universe goes,"}, {"timestamp": [193.48, 196.72], "text": " but there's the final thing, which are called the six worlds,"}, {"timestamp": [197.66, 199.28], "text": " or the six paths of life."}, {"timestamp": [201.36, 205.24], "text": " And this is very important for Buddhism Buddhism although it comes from Hinduism"}, {"timestamp": [205.24, 208.34], "text": " is represented in what is called the bhava chakra"}, {"timestamp": [208.34, 212.08], "text": " bhava means becoming b-h-a-v-a"}, {"timestamp": [212.08, 215.56], "text": " chakra c-h-a-k-r-a means wheel"}, {"timestamp": [215.56, 219.44], "text": " the wheel of becoming the wheel of birth and death"}, {"timestamp": [219.44, 224.8], "text": " and it has six divisions it has the top people"}, {"timestamp": [224.8, 226.4], "text": " and the bottom people the top people and the bottom people."}, {"timestamp": [226.96, 230.7], "text": " The top people are called Deva, D-E-V-A."}, {"timestamp": [231.54, 236.4], "text": " The bottom people are called Naraka, N-A-R-A-K-A."}, {"timestamp": [237.08, 238.1], "text": " Devas are angels,"}, {"timestamp": [238.72, 242.38], "text": " and they are the people who are the supreme spiritual successors."}, {"timestamp": [243.36, 247.0], "text": " The Naraka are tormented in purgatory, and they are the supreme spiritual successes. The Naraka are tormented in purgatory and they are the"}, {"timestamp": [248.12, 255.12], "text": " supreme spiritual failures. They are the poles, the happiest people and the saddest people."}, {"timestamp": [258.5, 265.82], "text": " Then in between there comes the world of the Pretas next to the naraka, next to the purgatory."}, {"timestamp": [266.58, 271.82], "text": " The pretas are the frustrated spirits who have tiny mouths and enormous bellies."}, {"timestamp": [272.58, 276.64], "text": " Huge appetites, but very, very limited means of satisfying it."}, {"timestamp": [278.58, 282.62], "text": " Then next, they come between the narakas and the devas at the top."}, {"timestamp": [283.28, 285.76], "text": " Next up from the pretas are the human beings."}, {"timestamp": [287.6, 293.68], "text": " And they are supposed to hold a middle position in the six worlds. Then you go up from the human"}, {"timestamp": [293.68, 298.4], "text": " beings to the Devas and then you start coming down again. The next world is called the Asura."}, {"timestamp": [299.52, 307.08], "text": " And those are the wrathful spirits, the personifications of storm and all the anger and violence of"}, {"timestamp": [307.08, 310.48], "text": " nature."}, {"timestamp": [310.48, 317.68], "text": " Next down is animals, coming between the Asura and the purgatories again."}, {"timestamp": [317.68, 321.8], "text": " Now all these needn't be taken literally, they are different modalities of the human"}, {"timestamp": [321.8, 323.92], "text": " mind."}, {"timestamp": [323.92, 325.46], "text": " We are in the Naraka world when we"}, {"timestamp": [325.46, 330.26], "text": " are frustrated and in torment. When we are merely chronically frustrated we are"}, {"timestamp": [330.26, 336.24], "text": " in the Preta world. When we are in a state of equanimity, even-mindedness, we"}, {"timestamp": [336.24, 341.0], "text": " are in the human world. When we are deliriously happy we are in the Deva"}, {"timestamp": [341.0, 347.16], "text": " world. When we are furious we are in the Asura world. When we are furious, we are in the ashura world. And when we are dumb, we are in the animal world."}, {"timestamp": [350.16, 351.98], "text": " So these are all modalities."}]"""
    prompt_answer2= """{"timestamps: [{"start": 110.7, "end": 170.46},{start: 147.28, end: 199.28}]}"""
    prompt_question3= """ {"timestamp": [353.4, 354.66], "text": " And it would be said now,"}, {"timestamp": [355.96, 358.58], "text": " this is terribly important to understand Buddhism."}, {"timestamp": [360.5, 362.04], "text": " Because the better you get,"}, {"timestamp": [362.16, 363.9], "text": " the more you go up to the deva world."}, {"timestamp": [364.26, 367.4], "text": " The worse you get, the more you go up to the deva world, the worse you get, the more you go down to the naraka world."}, {"timestamp": [367.76, 370.1], "text": " But everything that goes up has to come down."}, {"timestamp": [372.52, 376.0], "text": " So you can't improve yourself indefinitely."}, {"timestamp": [377.48, 380.04], "text": " If you improve yourself beyond a certain limit,"}, {"timestamp": [380.34, 381.8], "text": " you simply start to get worse."}, {"timestamp": [381.8, 385.34], "text": " Like when you make a knife too sharp, it begins to wear away."}, {"timestamp": [388.74, 391.66], "text": " So the Buddhahood or liberation,"}, {"timestamp": [392.56, 395.66], "text": " enlightenment, is on no place on the wheel,"}, {"timestamp": [397.42, 399.18], "text": " unless it might be the center."}, {"timestamp": [401.54, 403.8], "text": " By ascending, by becoming better,"}, {"timestamp": [404.88, 409.04], "text": " you tie yourself to the wheel by gold chains."}, {"timestamp": [409.04, 415.44], "text": " By retrogressing and becoming worse, you tie yourself to the wheel with iron chains."}, {"timestamp": [415.44, 422.02], "text": " But the Buddha is one who gets rid of the chains altogether."}, {"timestamp": [422.02, 427.1], "text": " And so this will explain why Buddhism unlike Judaism and unlike Christianity"}, {"timestamp": [427.1, 434.62], "text": " is not very very frantically concerned with being good it is concerned with"}, {"timestamp": [434.62, 441.6], "text": " being wise it is concerned with being compassionate is a little different from"}, {"timestamp": [441.6, 448.04], "text": " being good with having tremendous sympathy and understanding and respect"}, {"timestamp": [448.04, 452.3], "text": " for all the ignorant people who don't know that they're it,"}, {"timestamp": [453.06, 457.06], "text": " but who are playing the very far-out game of being you and I."}, {"timestamp": [458.86, 463.1], "text": " And so this is why every Hindu greets his brother"}, {"timestamp": [463.1, 465.32], "text": " not by shaking hands hands but by putting his"}, {"timestamp": [465.32, 470.94], "text": " hands together and bowing this is why the Japanese bow to each other basically"}, {"timestamp": [470.94, 476.08], "text": " this is why Buddhist rituals are full of the bowing gesture because you are"}, {"timestamp": [476.08, 481.0], "text": " honoring the self playing the roles of all the people around you and all the"}, {"timestamp": [481.0, 489.32], "text": " more honor is due when the self has forgotten what it's doing and is therefore in a very far out situation"}, {"timestamp": [489.32, 495.68], "text": " now that is the basic Hindu view of the world"}, {"timestamp": [495.68, 499.8], "text": " that's the cosmology which goes along with Buddhism"}, {"timestamp": [499.8, 509.0], "text": " according to taste, temperament, tradition, popular belief and so on,"}, {"timestamp": [509.02, 510.6], "text": " there is this additional idea"}, {"timestamp": [510.6, 520.02], "text": " that when the Lord, the Self, pretends that it's each of us,"}, {"timestamp": [520.02, 524.92], "text": " it first of all pretends that it is something called the Jivatman."}, {"timestamp": [524.92, 525.98], "text": " it first of all pretends that it is something called the Jivatman."}, {"timestamp": [532.3, 533.46], "text": " The Atman, the self, pretends to be an individual soul called a Jivatman."}, {"timestamp": [537.38, 538.6], "text": " And the Jivatman reincarnates through a whole series of bodies,"}, {"timestamp": [540.18, 542.84], "text": " life after life after life."}, {"timestamp": [554.46, 570.2], "text": " And according to what is called karma karma literally means doing the law of doing whereby acts occur in a series and they are linked with each other in an unbreakable chain."}, {"timestamp": [570.2, 576.76], "text": " So everybody's karma is the life course that he will work out through maybe innumerable"}, {"timestamp": [576.76, 579.76], "text": " lifetimes."}, {"timestamp": [579.76, 584.24], "text": " I'm not going into that because a lot of Buddhists don't believe that."}, {"timestamp": [584.24, 585.6], "text": " You will find that the Zen people,"}, {"timestamp": [585.6, 591.52], "text": " for example, are quite divided on this. They will say, no, we don't believe literally in reincarnation."}, {"timestamp": [592.64, 598.72], "text": " That after your funeral, you know, you will suddenly become somebody different living"}, {"timestamp": [598.72, 607.24], "text": " somewhere else. They will say reincarnation means this, that if you sitting here now are really convinced"}, {"timestamp": [607.24, 611.64], "text": " that you're the same person who walked in at the door half an hour ago, you're being"}, {"timestamp": [611.64, 613.9], "text": " reincarnated."}, {"timestamp": [613.9, 617.76], "text": " If you're liberated, you'll understand that you're not."},"""
    prompt_answer3="""{"timestamps: [{ start: 353.4, end: 415.44]}, {start: 422.02, end: 509.0], [start: 509.02, end: 617.76]]"""
    prompt_question4 = """
        {"timestamp": [617.76, 620.86], "text": " The past doesn't exist."}, 
        {"timestamp": [620.86, 622.86], "text": " The future doesn't exist."}, 
        {"timestamp": [622.86, 624.24], "text": " There is only the present."},
        {"timestamp": [624.24, 627.0], "text": " And that's the only real you that there is."}, 
        {"timestamp": [627.0, 631.0], "text": " The Zen master Dogen put it in this way. He said,"}, 
        {"timestamp": [631.0, 635.0], "text": " Spring does not become the summer."}, 
        {"timestamp": [635.0, 638.0], "text": " First there is summer, and then there is spring."}, 
        {"timestamp": [638.0, 641.0], "text": " Each season stays in its own place."}, 
        {"timestamp": [641.0, 645.84], "text": " And so in the same way the you of yesterday does not become the you of today"}, 
        {"timestamp": [650.4, 656.4], "text": " t.s elliott has the same idea in his poem the four quartets where he says uh when you settle"}, 
        {"timestamp": [656.4, 662.96], "text": " down in the train to read your newspaper and uh so on you are not the same person who a little"}, 
        {"timestamp": [662.96, 665.6], "text": " while ago left the platform if you think you are you are linking your same person who a little while ago left the platform."}, 
        {"timestamp": [669.6, 670.8], "text": " If you think you are, you are linking your moments up in a chain."}, {"timestamp": [674.64, 676.42], "text": " And this is what binds you to the wheel of birth and death."}, {"timestamp": [680.26, 681.28], "text": " But when you know that every moment at which you are is the only moment,"}, {"timestamp": [682.34, 682.44], "text": " this comes into Zen."}, {"timestamp": [683.94, 684.36], "text": " A master will say to somebody,"}, {"timestamp": [685.46, 693.76], "text": " get up and walk across the room. And he comes back and he says, where are your footprints? They've gone. So where"}, {"timestamp": [693.76, 699.6], "text": " are you? Who are you? When we are asked who we are, we usually give a kind of recitation"}, {"timestamp": [699.6, 704.28], "text": " of a history. Well, I'm so-and-so. I was given this name by my parents. I've been to such"}, {"timestamp": [704.28, 709.24], "text": " and such a college. I've done these things in my profession, and I produce a little biography."}, {"timestamp": [709.24, 716.24], "text": " Buddhist says forget it. That's not you. That's some story. That's all gone, that's all past."}, {"timestamp": [716.78, 725.94], "text": " I want to see the real you, you are now. Well, nobody knows who that is, you see, because we don't know ourselves"}, {"timestamp": [725.94, 728.16], "text": " except through listening to our echoes"}, {"timestamp": [728.16, 731.28], "text": " and consulting our memories."}, {"timestamp": [732.04, 733.44], "text": " But then there's a real you,"}, {"timestamp": [733.56, 736.16], "text": " and that again leads us back to this question."}, {"timestamp": [737.44, 740.88], "text": " Who are you that is the real you?"}, {"timestamp": [742.14, 744.54], "text": " We shall see how they play with this in Zen"}, {"timestamp": [744.54, 746.96], "text": " by the koans to"}, {"timestamp": [746.96, 753.94], "text": " get you to come out of your shell and find out who you really are."}, {"timestamp": [753.94, 771.84], "text": " Well now, whereas in India this worldview is tied up with a whole culture involving every circumstance of everyday life."}, {"timestamp": [771.84, 778.64], "text": " Hinduism is not a religion in the same sense that, say, being an Episcopalian or even a"}, {"timestamp": [778.64, 785.0], "text": " Roman Catholic. Hinduism is not a religion, it is a culture."}, {"timestamp": [785.0, 791.0], "text": " In this respect it's more like Judaism than Christianity."}, {"timestamp": [791.0, 797.0], "text": " Because a person is still recognizable as a Jew, even though they don't go to synagogue."}, {"timestamp": [797.0, 805.7], "text": " Because there's certain cultural things, that Jewish people who come of a line of Jewish parents people who have"}, {"timestamp": [805.7, 811.38], "text": " been practicing Jews they still continue certain ways of doing things certain"}, {"timestamp": [811.38, 817.68], "text": " mannerisms certain attitudes and so they are cultural Jews instead of religious"}, {"timestamp": [817.68, 828.94], "text": " Jews now Hinduism is the same sort of thing it is a religion culture and so it involves living in India really"}, {"timestamp": [828.94, 836.4], "text": " to be a Hindu. Because of the differences of climate, the differences of arts and crafts,"}, {"timestamp": [836.4, 845.06], "text": " technology, you can't be a Hindu in the full sense in Japan or in the United States. So what is Buddhism?"}, {"timestamp": [845.66, 848.26], "text": " Buddhism is Hinduism stripped for export."}, {"timestamp": [851.8, 856.04], "text": " Now the Buddha was a reformer, you might say."}, {"timestamp": [856.58, 859.18], "text": " In the highest sense of a reformer,"}, {"timestamp": [859.74, 862.02], "text": " someone who wants to go to the original form"}, {"timestamp": [862.02, 866.6], "text": " or to reform it for the needs of a certain"}, {"timestamp": [866.6, 875.06], "text": " time the word Buddha is a title not a proper name same way as Christ means the"}, {"timestamp": [875.06, 889.0], "text": " anointed and it's not the surname of Jesus so Buddha is not the surname of Gotama, it means the one who is awakened from the root in Sanskrit budh"}, {"timestamp": [889.0, 909.96], "text": " b-u-d-h to know. The man who woke up, who discovered who he really was. Now the thing that we're in the crucial point where in Buddhism differs from Hinduism is"}, {"timestamp": [909.96, 914.14], "text": " it doesn't say who you are."}, {"timestamp": [914.14, 922.08], "text": " It has no idea, no concept and I emphasize the word idea and concept."}, {"timestamp": [922.08, 927.48], "text": " It has no idea and no concept of God."}, {"timestamp": [930.7, 931.34], "text": " Because Buddhism is not interested in concepts."}, {"timestamp": [933.42, 933.92], "text": " It's interested in direct experience,"}, {"timestamp": [935.38, 938.06], "text": " and direct experience only."}, {"timestamp": [940.06, 940.54], "text": " So from the Buddhist standpoint,"}, {"timestamp": [942.48, 946.0], "text": " all concepts are wrong."}, {"timestamp": [950.0, 951.0], "text": " Just in the same way that nothing is really what you say it is."}, {"timestamp": [954.0, 957.0], "text": " This... is this a stool?"}, {"timestamp": [960.0, 967.82], "text": " It isn't now, it's a wastebasket. It's now a drum."}, {"timestamp": [968.68, 969.6], "text": " What is this thing?"}, {"timestamp": [971.7, 972.1], "text": " See?"}, {"timestamp": [974.08, 975.26], "text": " It is what it does."}, {"timestamp": [976.14, 977.6], "text": " It's this. See?"}, {"timestamp": [981.68, 983.64], "text": " Anything you can use it for is what it is."}, {"timestamp": [984.9, 988.34], "text": " So if you have a rigid idea that it's a stool and you can only sit on it,"}, {"timestamp": [988.9, 989.72], "text": " you're kind of stuck."}, {"timestamp": [990.86, 992.98], "text": " But if it's all these other things as well,"}, {"timestamp": [993.78, 996.78], "text": " then you suddenly see that anything can be everything."}, {"timestamp": [999.46, 1003.42], "text": " So in the same way, Buddhism does not define and say,"}, {"timestamp": [1003.84, 1007.0], "text": " what you really are is something. Because"}, {"timestamp": [1007.48, 1013.88], "text": " it would say that if you believe that, you've got stuck with an idea and you're clinging"}, {"timestamp": [1013.88, 1020.88], "text": " onto it for spiritual security. So a lot of people say, well I like to have a religion"}, {"timestamp": [1021.38, 1026.94], "text": " because it gives me something to hold onto. A Buddhist would say, ah, cut that stuff."}, {"timestamp": [1028.72, 1031.14], "text": " So long as you hold on to something, you don't have religion."}, {"timestamp": [1032.84, 1036.98], "text": " You're only really there when you let go of everything."}, {"timestamp": [1038.38, 1041.94], "text": " And you don't depend on any fixed idea, any belief,"}, {"timestamp": [1043.22, 1049.64], "text": " for your sanity or happiness."}, {"timestamp": [1049.64, 1053.78], "text": " So you would think Buddhism is very destructive,"}, {"timestamp": [1053.78, 1055.9], "text": " because it breaks down."}, {"timestamp": [1055.9, 1057.54], "text": " It doesn't believe in God."}, {"timestamp": [1057.54, 1060.02], "text": " It doesn't believe in an immortal soul."}, {"timestamp": [1060.02, 1064.32], "text": " It doesn't believe in, doesn't seek any solace in any idea"}, {"timestamp": [1064.32, 1065.28], "text": " of life after death."}, {"timestamp": [1066.16, 1072.34], "text": " It absolutely faces the fact of the transiency of life."}, {"timestamp": [1072.72, 1075.32], "text": " There's nothing you can hold on to, so man let go."}, {"timestamp": [1077.18, 1079.42], "text": " Because there's no one to hold on to anything anyway."}, {"timestamp": [1081.24, 1083.7], "text": " So Buddhism is the discipline of doing that."}, {"timestamp": [1083.74, 1086.92], "text": " so Buddhism is the discipline of doing that but if you do that, you see"}, {"timestamp": [1086.92, 1091.16], "text": " you discover something much better than anybody has"}, {"timestamp": [1091.16, 1092.32], "text": " who has a belief"}, {"timestamp": [1092.32, 1094.82], "text": " because you got the real thing"}, {"timestamp": [1094.82, 1097.0], "text": " and you can't say what it is"}, {"timestamp": [1097.0, 1099.72], "text": " they say in Zen that if you're enlightened in Buddhism"}, {"timestamp": [1099.72, 1102.36], "text": " you are like a dumb man who has had a wonderful dream"}, {"timestamp": [1102.36, 1105.2], "text": " that is to say when you've had a wonderful dream,"}, {"timestamp": [1105.28, 1106.76], "text": " you want to tell everybody what it is."}, {"timestamp": [1107.04, 1107.78], "text": " But you can't."}, {"timestamp": [1107.84, 1110.0], "text": " If you're dumb, see if you can't speak."}, {"timestamp": [1110.88, 1113.04], "text": " So the real thing in Buddhism,"}, {"timestamp": [1113.14, 1114.34], "text": " which they call nirvana,"}, {"timestamp": [1114.86, 1116.82], "text": " which is a sort of equivalent to moksha,"}, {"timestamp": [1117.56, 1118.94], "text": " nirvana means blow out."}, {"timestamp": [1120.96, 1121.4], "text": " Phew!"}, {"timestamp": [1122.96, 1124.4], "text": " You know, the sigh of relief."}, {"timestamp": [1128.04, 1130.78], "text": " Because if you hold your breath, you lose it."}, {"timestamp": [1132.24, 1134.82], "text": " You hold on to yourself, you hold on to life,"}, {"timestamp": [1135.14, 1137.34], "text": " or breath is the spirit, you hold on to God,"}, {"timestamp": [1137.44, 1140.42], "text": " rock of ages cleft for me, let me cling on to you."}, {"timestamp": [1142.18, 1143.16], "text": " It's all dead."}, {"timestamp": [1144.0, 1149.12], "text": " It becomes just a rock, just idol but let go breathe out and"}, {"timestamp": [1149.12, 1157.5], "text": " you get your breath back that's Nirvana so Buddhist idea is in doctrine the"}, {"timestamp": [1157.5, 1164.06], "text": " highest negativism they characterize the ultimate reality as Shunya which means"}, {"timestamp": [1164.06, 1165.8], "text": " emptiness in Japanese coup which is the character you use for the sky or the air They characterize the ultimate reality as shunya, which means emptiness."}, {"timestamp": [1169.94, 1170.22], "text": " In Japanese, ku, which is the character you use for the sky or the air."}, {"timestamp": [1173.2, 1173.58], "text": " When you get an airmail envelope, you know, to write home,"}, {"timestamp": [1177.2, 1178.02], "text": " it will, the second character is ku, the air, which means emptiness."}, {"timestamp": [1180.64, 1181.64], "text": " They use this to translate shunyata, emptiness."}, {"timestamp": [1183.98, 1184.94], "text": " Fundamental nature of reality, the sky."}, {"timestamp": [1185.0, 1187.04], "text": " But sky, you see, is not negative emptiness."}, {"timestamp": [1187.92, 1189.86], "text": " The sky contains all of us."}, {"timestamp": [1190.9, 1192.64], "text": " It's full of everything going on."}, {"timestamp": [1192.64, 1196.3], "text": " But you can't put a nail in the sky and pin it down."}, {"timestamp": [1197.98, 1201.9], "text": " So in the same way, Buddhism is saying,"}, {"timestamp": [1202.78, 1213.82], "text": " you don't need any gizmos to be in the know."}, {"timestamp": [1215.5, 1216.94], "text": " You don't need a religion."}, {"timestamp": [1218.26, 1220.34], "text": " You don't need any even Buddha statues."}, {"timestamp": [1220.58, 1221.56], "text": " You don't need any temples."}, {"timestamp": [1222.22, 1226.72], "text": " You don't need any Buddhist bondioserie, rosaries and"}, {"timestamp": [1226.72, 1232.72], "text": " all that jazz. But when you get to the point that you know you don't need any of those"}, {"timestamp": [1232.72, 1239.78], "text": " things, that you don't need a religion at all, then it's fun to have one. Then as it"}, {"timestamp": [1239.78, 1245.22], "text": " were, you can be trusted to use rosaries and ring bells and clappers and chant sutras, you see."}, {"timestamp": [1247.28, 1247.78], "text": " But those things won't help you a bit."}, {"timestamp": [1249.32, 1256.32], "text": " They'll just tie you up in knots if you use them as methods of catching hold of something."}, {"timestamp": [1258.02, 1262.12], "text": " So every teacher of Buddhism is a debunker."}, {"timestamp": [1263.14, 1266.5], "text": " But he does it not to be a smart aleck"}, {"timestamp": [1266.5, 1268.26], "text": " and to show how clever he is,"}, {"timestamp": [1268.78, 1269.9], "text": " but out of compassion."}, {"timestamp": [1270.26, 1273.68], "text": " Just as when a surgeon chops off a bad growth"}, {"timestamp": [1273.68, 1277.16], "text": " or a dentist pulls out a rotten tooth,"}, {"timestamp": [1277.66, 1280.02], "text": " so the Buddhist guru or surgeon"}, {"timestamp": [1280.02, 1282.4], "text": " is getting rid of your crazy ideas for you,"}, {"timestamp": [1283.12, 1287.34], "text": " which you use to cling on to life and make it dead."}, {"timestamp": [1290.72, 1296.1], "text": " Now, there are two kinds of Buddhism."}, {"timestamp": [1299.68, 1303.6], "text": " They are called Mahayana."}, {"timestamp": [1304.88, 1308.32], "text": " Mahayana is Sanskrit word for great, M-A-H-A."}, {"timestamp": [1309.12, 1312.14], "text": " Yana means a vehicle or conveyance."}, {"timestamp": [1314.48, 1318.48], "text": " And there is Hinayana, means the little vehicle."}, {"timestamp": [1318.82, 1321.74], "text": " Hina in Sanskrit, H-I-N-A, means little."}, {"timestamp": [1322.1, 1326.92], "text": " Only that's a term invented by the Mahayanists for the other people,"}, {"timestamp": [1327.02, 1328.88], "text": " and the other people don't like it."},
    """
    prompt_answer4 = """{"timestamps":[{"start":617.76,"end":645.84},{"start":650.4,"end":731.28},{"start":737.44,"end":817.68},{"start":828.94,"end":922.08},{"start":930.7,"end":996.78},{"start":999.46,"end":1079.42},{"start":1081.24,"end":1196.3},{"start":1197.98,"end":1287.34},{"start":1290.72,"end":1328.88}]}"""
    response = client.chat.completions.create(
        model="gpt-4-1106-preview",
        response_format={"type": "json_object"},
        messages=[
            {"role": "system", "content": initial_prompt},
            {"role": "user", "content": prompt_question1},
            {"role": "assistant", "content": prompt_answer1},
            {"role": "user", "content": prompt_question2},
            {"role": "assistant", "content": prompt_answer2},
            {"role": "user", "content": prompt_question3},
            {"role": "assistant", "content": prompt_answer3},
            {"role": "user", "content": prompt_question4},
            {"role": "assistant", "content": prompt_answer4},
            {"role": "user", "content": final_prompt}
        ]
    )

    if os.path.exists(output_path):
        with open(output_path, "r") as f:
            data = json.load(f)
    else:
        data = {"timestamps": []}

    print(data)
    print(response.choices[0].message.content)
    data["timestamps"] += json.loads(response.choices[0].message.content)["timestamps"]

    with open(output_path, "w") as f:
        f.write(json.dumps(data))
        
